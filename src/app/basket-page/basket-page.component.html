<div class="container">
    <p class="header">Твоя корзина</p>
    <div class="content">
        <div class="card">
            <p-table [columns]="cols" [value]="products" [tableStyle]="{ 'min-width': '50rem' }">
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th *ngFor="let col of columns">
                            {{ col.header }}
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product>
                    <tr>
                        <td> <img [src]="product.photo" style="height:120px"> </td>
                        <td>{{ product.price }}</td>
                        <td>
                            <app-quantity 
                                [(quantity)]="product.quantity" 
                                (quantityChange)="productQuantityChanged(product.id, $event)"
                            ></app-quantity>
                            <button class="delete" (click)="deleteProduct(product.id)" >видалити</button>
                        </td>
                        <td>{{ product.price * product.quantity }}</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
        <div class="basket">
            <div class="name">Корзина</div>
            <div class="products">
                <p>{{ orderSize }}  товари</p>
                <img *ngFor="let product of products" [src]="product.photo">
            </div>
            <div class="promocode">
                <input placeholder="Код на знижку"> 
                <button>Застосувати</button>
            </div>
            <div class="sum">
                <p>Підсумок ({{ orderSize }} товари)</p>
                <p>{{subtotal}} грн</p>
                <p>Доставка</p>
                <p>Розраховується на касі</p>
            </div>
            <div class="total">
                <p>Знижка</p>
                <p>-{{sale}} грн</p>
                <p>{{total}} грн</p>
            </div>
            <div class="buttons">
                <button class="checkout">До оплати</button>
                <button class="back" [routerLink]="['/catalog']">Продовжити покупки</button>
            </div>
        </div>
    </div>
</div>